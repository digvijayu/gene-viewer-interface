(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(t,n,e){},54:function(t,n,e){"use strict";e.r(n);var r=e(0),c=e(1),a=e.n(c),o=e(24),i=e.n(o),s=(e(35),e(6)),u=e.n(s),d=e(8),l=e(5),j=e(2),b=e(3),h=e(25),f=e.n(h),v=function(){var t=Object(d.a)(u.a.mark((function t(n){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("".concat("https://rest.ensembl.org","/lookup/id/").concat(n,"?content-type=application/json;expand=1"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),O=e(29);function x(){var t=Object(j.a)(["\n  font-size: 11px;\n  color: #999;\n"]);return x=function(){return t},t}function p(){var t=Object(j.a)(["\n  width: 20px;\n"]);return p=function(){return t},t}function g(){var t=Object(j.a)(["\n  height: 20px;\n"]);return g=function(){return t},t}b.a.div(g());var m=b.a.div(p()),S=b.a.label(x());function y(){var t=Object(j.a)(["\n  position: absolute;\n  left: ","px;\n  width: ","px;\n  height: 30px;\n  background-color: ",";\n  margin: auto 0;\n"]);return y=function(){return t},t}var T=b.a.div(y(),(function(t){return t.left}),(function(t){return t.length}),(function(t){return t.color})),k=function(t){var n=t.scale,e=t.exon,c=t.color,a=n(e.start,!0),o=n(e.end-e.start,!1);return Object(r.jsx)(T,{title:e.id,"data-testid":"exon",left:a,length:o,color:c})};function w(){var t=Object(j.a)(["\n  position: absolute;\n  top: 15px;\n  left: ","px;\n  width: ","px;\n  border-top: 1px solid ",";\n"]);return w=function(){return t},t}var C=b.a.div(w(),(function(t){return t.left}),(function(t){return t.length}),(function(t){return t.color})),_=function(t){var n=t.scale,e=t.start,c=t.end,a=t.color,o=n(e,!0),i=n(c-e,!1);return Object(r.jsx)(C,{"data-testid":"exon-link",left:o,length:i,color:a})};function L(){var t=Object(j.a)(["\n  height: 35px;\n  position: relative;\n"]);return L=function(){return t},t}var E=b.a.div(L()),F=function(t,n){return t.start-n.start},I=function(t){var n=t.scale,e=t.transcript,c=t.color;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(S,{children:e.display_name}),Object(r.jsx)(E,{"data-testid":"transcript","data-id":e.id,children:e.Exon.sort(F).map((function(t,o){var i=e.Exon[o+1];return Object(r.jsxs)(a.a.Fragment,{children:[Object(r.jsx)(k,{exon:t,scale:n,color:c}),i&&Object(r.jsx)(_,{scale:n,start:t.end,end:i.start,color:c})]},t.id)}))})]})},J=["#214559","#c65102","#391285","#cb416b","#0000aa","#9c004a","#000133","#033500","#b4262a","#00022e","#c14a09","#7f4330","#ca6636","#d5b60a","#900020","#420303","#112222","#820000","#4a0100","#980036","#3a181a","#696006","#490648","#76424e","#35063e","#80444c","#280137","#4d4b3a"],N=function(t){return J[t%(J.length-1)]};function B(){var t=Object(j.a)(["\n  position: relative;\n  height: ","px;\n  width: ","px;\n"]);return B=function(){return t},t}var D=b.a.div(B(),700,1e3),G=function(t){var n=t.gene,e=t.sortingOption,c=function(t,e){return 1e3/(n.end-n.start)*(e?t-n.start:t)};return Object(r.jsx)(D,{"data-testid":"app-gene-viewer",children:n.Transcript.sort((function(t,n){return"longestToShortest"===e?n.end-n.start-(t.end-t.start):t.end-t.start-(n.end-n.start)})).map((function(t,n){var e={scale:c,transcript:t,color:N(n)};return Object(r.jsx)(I,Object(O.a)({},e),t.id)}))})};function P(){var t=Object(j.a)(["\n  padding: 0 10px;\n"]);return P=function(){return t},t}var z=b.a.div(P()),M=function(t){var n=t.gene;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(z,{children:[Object(r.jsx)(S,{children:"Id"}),Object(r.jsx)("div",{children:n.id})]}),Object(r.jsxs)(z,{children:[Object(r.jsx)(S,{children:"Display Name"}),Object(r.jsx)("div",{children:n.display_name})]}),Object(r.jsxs)(z,{children:[Object(r.jsx)(S,{children:"Description"}),Object(r.jsx)("div",{children:n.description})]})]})};function A(){var t=Object(j.a)(["\n  margin: 0;\n"]);return A=function(){return t},t}function H(){var t=Object(j.a)(["\n  font-size: 9px;\n"]);return H=function(){return t},t}function K(){var t=Object(j.a)(["\n  color: #4286f4;\n"]);return K=function(){return t},t}function R(){var t=Object(j.a)(["\n  background-color: #eee;\n  cursor: pointer;\n  padding: 5px;\n\n  &:hover {\n    opacity: 0.7;\n  }\n"]);return R=function(){return t},t}function Y(){var t=Object(j.a)(["\n  background-color: #eee;\n  text-align: center;\n  padding: 10px;\n"]);return Y=function(){return t},t}var q=b.a.div(Y()),Q=b.a.div(R()),U=b.a.div(K()),V=b.a.div(H()),W=b.a.h3(A()),X=function(t){var n=t.genes,e=t.onClick;return n.length<1?null:Object(r.jsxs)(q,{"data-testid":"history",children:[Object(r.jsx)(W,{children:"History"}),Object(r.jsx)(S,{children:"(Most recent on top)"}),n.map((function(t){return Object(r.jsxs)(Q,{"data-testid":"history-item",onClick:function(){return e(t)},children:[Object(r.jsx)(U,{"data-testid":"history-id",children:t.id}),Object(r.jsx)(V,{"data-testid":"history-name",children:t.display_name})]},t.id)}))]})},Z=function(t){var n=t.label,e=(t.value,t.onSearch),a=Object(c.useState)(""),o=Object(l.a)(a,2),i=o[0],s=o[1];return Object(r.jsxs)("div",{"data-testid":"search-form",children:[Object(r.jsx)("div",{children:Object(r.jsx)(S,{"data-testid":"search-form_label",children:n})}),Object(r.jsx)("input",{"data-testid":"search-form_input",value:i,onChange:function(t){s(t.target.value)}}),Object(r.jsx)("button",{"data-testid":"search-form_button",onClick:function(){var t=i.trim();t?e(t):alert("Please enter stable id of the gene.")},children:"Search"})]})},$=function(t){var n=t.value,e=t.onChange,a=Object(c.useState)(n),o=Object(l.a)(a,2),i=o[0],s=o[1],u=function(t){var n="longestToShortest"===t.target.value?"longestToShortest":"shortestToLongest";s(n),e(n)};return Object(r.jsxs)("div",{"data-testid":"sort-form",children:[Object(r.jsx)("div",{children:Object(r.jsx)(S,{children:"Sort By:"})}),Object(r.jsx)("input",{type:"radio",name:"longestToShortest",value:"longestToShortest",checked:"longestToShortest"===i,onChange:u,"data-testid":"sort-option_longestToShortest"}),"Longest To Shortest",Object(r.jsx)("input",{type:"radio",name:"shortestToLongest",value:"shortestToLongest",checked:"shortestToLongest"===i,onChange:u,"data-testid":"sort-option_shortestToLongest"}),"Shortest To Longest"]})},tt=e(13),nt="GENE_STORAGE_KEY";var et=function(){var t=Object(c.useState)((function(){try{var t=window.localStorage.getItem(nt);return t?JSON.parse(t):[]}catch(n){return console.log(n),[]}})),n=Object(l.a)(t,2),e=n[0],r=n[1];return[e,function(t){try{var n=function(t,n){var e=t.findIndex((function(t){return t.id===n.id}));if(-1===e){var r=[n].concat(Object(tt.a)(t));return r.length>5&&r.splice(5,r.length-5),r}return t.splice(e,1),[n].concat(Object(tt.a)(t))}(e,t);r(n),window.localStorage.setItem(nt,JSON.stringify(n))}catch(c){console.log(c)}}]};function rt(){var t=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  padding: 20px;\n"]);return rt=function(){return t},t}function ct(){var t=Object(j.a)(["\n  color: red;\n"]);return ct=function(){return t},t}var at=b.a.div(ct()),ot=b.a.div(rt());var it=function(){var t=et(),n=Object(l.a)(t,2),e=n[0],o=n[1],i=a.a.useState(""),s=Object(l.a)(i,2),j=s[0],b=s[1],h=a.a.useState(e.length>0?e[0]:void 0),f=Object(l.a)(h,2),O=f[0],x=f[1],p=Object(c.useState)("longestToShortest"),g=Object(l.a)(p,2),S=g[0],y=g[1],T=Object(c.useState)(!1),k=Object(l.a)(T,2),w=k[0],C=k[1],_=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(C(!1),b(n),void 0===(r=e.find((function(t){return t.id===n})))){t.next=8;break}x(r),o(r),t.next=20;break;case 8:return t.prev=8,t.next=11,v(n);case 11:c=t.sent,o(c),x(c),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(8),C(!0),x(void 0);case 20:case"end":return t.stop()}}),t,null,[[8,16]])})));return function(n){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsxs)(ot,{children:[Object(r.jsx)(Z,{label:"Enter stable id of the Gene",value:j,onSearch:_}),Object(r.jsx)(m,{}),Object(r.jsx)($,{value:"longestToShortest",onChange:function(t){y(t)}})]}),O&&Object(r.jsx)(ot,{children:Object(r.jsx)(M,{gene:O})}),Object(r.jsxs)(ot,{children:[Object(r.jsx)(X,{genes:e,onClick:function(t){C(!1),o(t),x(t)}}),Object(r.jsx)(m,{}),O&&Object(r.jsx)(G,{gene:O,sortingOption:S}),w&&Object(r.jsx)(at,{"data-testid":"error",children:"The entered stable id is invalid."})]})]})},st=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,55)).then((function(n){var e=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;e(t),r(t),c(t),a(t),o(t)}))};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(it,{})}),document.getElementById("root")),st()}},[[54,1,2]]]);
//# sourceMappingURL=main.1ce079ee.chunk.js.map