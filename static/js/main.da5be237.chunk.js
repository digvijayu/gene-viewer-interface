(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{35:function(t,n,e){},54:function(t,n,e){"use strict";e.r(n);var r=e(0),a=e(1),o=e.n(a),c=e(24),i=e.n(c),s=(e(35),e(6)),u=e.n(s),d=e(8),l=e(5),j=e(2),f=e(3),b=e(25),h=e.n(b),v=function(){var t=Object(d.a)(u.a.mark((function t(n){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("".concat("https://rest.ensembl.org","/lookup/id/").concat(n,"?content-type=application/json;expand=1"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),p=e(29);function O(){var t=Object(j.a)(["\n  position: absolute;\n  left: ","px;\n  width: ","px;\n  height: 30px;\n  background-color: ",";\n  margin: auto 0;\n"]);return O=function(){return t},t}var x=f.a.div(O(),(function(t){return t.left}),(function(t){return t.length}),(function(t){return t.color})),g=function(t){var n=t.scale,e=t.exon,a=t.color,o=n(e.start,!0),c=n(e.end-e.start,!1);return Object(r.jsx)(x,{"data-testid":"exon",left:o,length:c,color:a})};function S(){var t=Object(j.a)(["\n  position: absolute;\n  top: 15px;\n  left: ","px;\n  width: ","px;\n  border-top: 1px solid ",";\n"]);return S=function(){return t},t}var m=f.a.div(S(),(function(t){return t.left}),(function(t){return t.length}),(function(t){return t.color})),T=function(t){var n=t.scale,e=t.start,a=t.end,o=t.color,c=n(e,!0),i=n(a-e,!1);return Object(r.jsx)(m,{"data-testid":"exon-link",left:c,length:i,color:o})};function k(){var t=Object(j.a)(["\n  height: 35px;\n  position: relative;\n"]);return k=function(){return t},t}var y=f.a.div(k()),w=function(t,n){return t.start-n.start},C=function(t){var n=t.scale,e=t.transcript,a=t.color;return Object(r.jsx)(y,{"data-testid":"transcript","data-id":e.id,children:e.Exon.sort(w).map((function(t,c){var i=e.Exon[c+1];return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(g,{exon:t,scale:n,color:a}),i&&Object(r.jsx)(T,{scale:n,start:t.end,end:i.start,color:a})]},t.id)}))})},L=["#214559","#c65102","#391285","#cb416b","#0000aa","#9c004a","#000133","#033500","#b4262a","#00022e","#c14a09","#7f4330","#ca6636","#d5b60a","#900020","#420303","#112222","#820000","#4a0100","#980036","#3a181a","#696006","#490648","#76424e","#35063e","#80444c","#280137","#4d4b3a"],E=function(t){return L[t%(L.length-1)]};function _(){var t=Object(j.a)(["\n  position: relative;\n  height: ","px;\n  width: ","px;\n"]);return _=function(){return t},t}var F=f.a.div(_(),700,1e3),I=function(t){var n=t.gene,e=t.sortingOption,a=function(t,e){return 1e3/(n.end-n.start)*(e?t-n.start:t)};return Object(r.jsx)(F,{"data-testid":"app-gene-viewer",children:n.Transcript.sort((function(t,n){return"longestToShortest"===e?n.end-n.start-(t.end-t.start):t.end-t.start-(n.end-n.start)})).map((function(t,n){var e={scale:a,transcript:t,color:E(n)};return Object(r.jsx)(C,Object(p.a)({},e),t.id)}))})};function J(){var t=Object(j.a)(["\n  font-size: 9px;\n"]);return J=function(){return t},t}function B(){var t=Object(j.a)(["\n  color: #4286f4;\n"]);return B=function(){return t},t}function G(){var t=Object(j.a)(["\n  background-color: #eee;\n  cursor: pointer;\n  padding: 5px;\n\n  &:hover {\n    opacity: 0.7;\n  }\n"]);return G=function(){return t},t}function N(){var t=Object(j.a)(["\n  background-color: #eee;\n  text-align: center;\n  padding: 10px;\n"]);return N=function(){return t},t}var z=f.a.div(N()),P=f.a.div(G()),A=f.a.div(B()),D=f.a.div(J()),H=function(t){var n=t.genes,e=t.onClick;return n.length<1?null:Object(r.jsxs)(z,{"data-testid":"history",children:[Object(r.jsx)("h3",{children:"History"}),n.map((function(t){return Object(r.jsxs)(P,{"data-testid":"history-item",onClick:function(){return e(t)},children:[Object(r.jsx)(A,{"data-testid":"history-id",children:t.id}),Object(r.jsx)(D,{"data-testid":"history-name",children:t.display_name})]},t.id)}))]})};function K(){var t=Object(j.a)(["\n  font-size: 11px;\n  color: #999;\n"]);return K=function(){return t},t}function M(){var t=Object(j.a)(["\n  width: 20px;\n"]);return M=function(){return t},t}function R(){var t=Object(j.a)(["\n  height: 20px;\n"]);return R=function(){return t},t}var Y=f.a.div(R()),q=f.a.div(M()),Q=f.a.label(K()),U=function(t){var n=t.label,e=(t.value,t.onSearch),o=Object(a.useState)(""),c=Object(l.a)(o,2),i=c[0],s=c[1];return Object(r.jsxs)("div",{"data-testid":"search-form",children:[Object(r.jsx)("div",{children:Object(r.jsx)(Q,{"data-testid":"search-form_label",children:n})}),Object(r.jsx)("input",{"data-testid":"search-form_input",value:i,onChange:function(t){s(t.target.value)}}),Object(r.jsx)("button",{"data-testid":"search-form_button",onClick:function(){return e(i)},children:"Search"})]})},V=function(t){var n=t.value,e=t.onChange,o=Object(a.useState)(n),c=Object(l.a)(o,2),i=c[0],s=c[1],u=function(t){var n="longestToShortest"===t.target.value?"longestToShortest":"shortestToLongest";s(n),e(n)};return Object(r.jsxs)("div",{"data-testid":"sort-form",children:[Object(r.jsx)("div",{children:Object(r.jsx)(Q,{children:"Sort By:"})}),Object(r.jsx)("input",{type:"radio",name:"longestToShortest",value:"longestToShortest",checked:"longestToShortest"===i,onChange:u,"data-testid":"sort-option_longestToShortest"}),"Longest To Shortest",Object(r.jsx)("input",{type:"radio",name:"shortestToLongest",value:"shortestToLongest",checked:"shortestToLongest"===i,onChange:u,"data-testid":"sort-option_shortestToLongest"}),"Shortest To Longest"]})},W=e(13),X="GENE_STORAGE_KEY";var Z=function(){var t=Object(a.useState)((function(){try{var t=window.localStorage.getItem(X);return t?JSON.parse(t):[]}catch(n){return console.log(n),[]}})),n=Object(l.a)(t,2),e=n[0],r=n[1];return[e,function(t){try{var n=function(t,n){var e=t.findIndex((function(t){return t.id===n.id}));if(-1===e){var r=[n].concat(Object(W.a)(t));return r.length>5&&r.splice(5,r.length-5),r}return t.splice(e,1),[n].concat(Object(W.a)(t))}(e,t);r(n),window.localStorage.setItem(X,JSON.stringify(n))}catch(a){console.log(a)}}]};function $(){var t=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  padding: 20px;\n"]);return $=function(){return t},t}function tt(){var t=Object(j.a)(["\n  color: red;\n"]);return tt=function(){return t},t}var nt=f.a.div(tt()),et=f.a.div($());var rt=function(){var t=Z(),n=Object(l.a)(t,2),e=n[0],c=n[1],i=o.a.useState(""),s=Object(l.a)(i,2),j=s[0],f=s[1],b=o.a.useState(e.length>0?e[0]:void 0),h=Object(l.a)(b,2),p=h[0],O=h[1],x=Object(a.useState)("longestToShortest"),g=Object(l.a)(x,2),S=g[0],m=g[1],T=Object(a.useState)(!1),k=Object(l.a)(T,2),y=k[0],w=k[1],C=function(){var t=Object(d.a)(u.a.mark((function t(n){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w(!1),f(n),void 0===(r=e.find((function(t){return t.id===n})))){t.next=8;break}O(r),c(r),t.next=20;break;case 8:return t.prev=8,t.next=11,v(n);case 11:a=t.sent,c(a),O(a),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(8),w(!0),O(void 0);case 20:case"end":return t.stop()}}),t,null,[[8,16]])})));return function(n){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsxs)(et,{children:[Object(r.jsx)(U,{label:"Enter stable id of the Gene",value:j,onSearch:C}),Object(r.jsx)(q,{}),Object(r.jsx)(V,{value:"longestToShortest",onChange:function(t){m(t)}})]}),Object(r.jsx)(Y,{}),Object(r.jsxs)(et,{children:[Object(r.jsx)(H,{genes:e,onClick:function(t){c(t),O(t)}}),Object(r.jsx)(q,{}),p&&Object(r.jsx)(I,{gene:p,sortingOption:S}),y&&Object(r.jsx)(nt,{"data-testid":"error",children:"The entered stable id is invalid."})]})]})},at=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,55)).then((function(n){var e=n.getCLS,r=n.getFID,a=n.getFCP,o=n.getLCP,c=n.getTTFB;e(t),r(t),a(t),o(t),c(t)}))};i.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(rt,{})}),document.getElementById("root")),at()}},[[54,1,2]]]);
//# sourceMappingURL=main.da5be237.chunk.js.map